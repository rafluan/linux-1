/*
 * Copyright (C) 2013-2015 Freescale Semiconductor, Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

/dts-v1/;

#include "imx6dl.dtsi"
#include "imx6qdl-sabresd.dtsi"

/ {
	model = "Freescale i.MX6 DualLite SABRE Smart Device Board";
	compatible = "fsl,imx6dl-sabresd", "fsl,imx6dl";
};

//Removendo node de bateria

&iomuxc {
	pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_hog_1>;
        imx6dl-jacto {
                //Adicionando pinos do display
                pinctrl_hog_1: hoggrp-1 {
                        fsl,pins = <
				MX6QDL_PAD_EIM_D21__USB_OTG_OC		0x80000000
				MX6QDL_PAD_EIM_D22__USB_OTG_PWR		0x80000000
				MX6QDL_PAD_EIM_D26__GPIO3_IO26		0x80000000
				MX6QDL_PAD_EIM_D27__GPIO3_IO27		0x80000000
				MX6QDL_PAD_EIM_D29__GPIO3_IO29		0x80000000
				MX6QDL_PAD_EIM_D31__USB_H1_PWR		0x80000000
				MX6QDL_PAD_EIM_BCLK__GPIO6_IO31		0x80000000
				MX6QDL_PAD_KEY_ROW0__GPIO4_IO07		0x80000000
				MX6QDL_PAD_KEY_COL2__GPIO4_IO10		0x80000000
				MX6QDL_PAD_KEY_ROW2__GPIO4_IO11		0x80000000
				MX6QDL_PAD_GPIO_0__GPIO1_IO00		0x80000000	//PWER_ON
				MX6QDL_PAD_GPIO_1__GPIO1_IO01		0x80000000
				MX6QDL_PAD_GPIO_2__GPIO1_IO02		0x80000000
				MX6QDL_PAD_GPIO_5__GPIO1_IO05		0x80000000
				MX6QDL_PAD_GPIO_9__GPIO1_IO09		0x80000000
				MX6QDL_PAD_GPIO_17__GPIO7_IO12		0x80000000
				MX6QDL_PAD_GPIO_18__GPIO7_IO13		0x80000000
				MX6QDL_PAD_GPIO_19__GPIO4_IO05		0x80000000
				MX6QDL_PAD_NANDF_CS0__GPIO6_IO11	0x80000000	//DISP_RST_B
				MX6QDL_PAD_NANDF_CS1__GPIO6_IO14	0x80000000	//DISP_PWR_EN
				MX6QDL_PAD_NANDF_CS2__GPIO6_IO15	0x80000000	//CABC_EN0
				MX6QDL_PAD_NANDF_CS3__GPIO6_IO16	0x80000000	//CABC_EN1
                                MX6QDL_PAD_NANDF_ALE__GPIO6_IO08	0x80000000	//CAP_TCH_INT0
				MX6QDL_PAD_NANDF_CLE__GPIO6_IO07	0x80000000	//CAP_TCH_INT1
				MX6QDL_PAD_NANDF_WP_B__GPIO6_IO09	0x80000000	//DISP0_WR
				MX6QDL_PAD_NANDF_RB0__GPIO6_IO10	0x80000000	//AUX_5V_EN
				MX6QDL_PAD_NANDF_D0__GPIO2_IO00		0x80000000	//SD3_CD
				MX6QDL_PAD_NANDF_D1__GPIO2_IO01		0x80000000	//SD3_WP
				MX6QDL_PAD_CSI0_DATA_EN__GPIO5_IO20	0x80000000	//PCI_WAKE_B
                        >;
                };

		//Adicionando configuração de pinos UART1
		pinctrl_uart1_cts: uart1grp {
                        fsl,pins = <
				MX6QDL_PAD_EIM_D19__UART1_CTS_B		0x1b0b1
				MX6QDL_PAD_EIM_D20__UART1_RTS_B		0x1b0b1
                                MX6QDL_PAD_CSI0_DAT10__UART1_TX_DATA    0x1b0b1
                                MX6QDL_PAD_CSI0_DAT11__UART1_RX_DATA    0x1b0b1
                        >;
                };

		//Adicionando configuração de pinos UART3
		pinctrl_uart3: uart3grp {
                        fsl,pins = <
				MX6QDL_PAD_EIM_D23__UART3_CTS_B		0x1b0b1
				MX6QDL_PAD_EIM_D24__UART3_TX_DATA	0x1b0b1
				MX6QDL_PAD_EIM_D25__UART3_RX_DATA	0x1b0b1
				MX6QDL_PAD_EIM_EB3__UART3_RTS_B		0x1b0b1
                        >;
                };

		//Adicionando configuração de pinos ethernet
		pinctrl_pad_enet: enetgrp {
                        fsl,pins = <
                                MX6QDL_PAD_ENET_MDC__ENET_MDC		0x1b0b0
                                MX6QDL_PAD_ENET_MDIO__ENET_MDIO		0x1b0b0
				MX6QDL_PAD_ENET_CRS_DV__ENET_RX_EN	0x1b0b0
				MX6QDL_PAD_ENET_RX_ER__ENET_RX_ER	0x1b0b0
				MX6QDL_PAD_ENET_TX_EN__ENET_TX_EN	0x1b0b0
				MX6QDL_PAD_ENET_RXD0__ENET_RX_DATA0	0x1b0b0
				MX6QDL_PAD_ENET_RXD1__ENET_RX_DATA1	0x1b0b0
				MX6QDL_PAD_ENET_TXD0__ENET_TX_DATA0	0x1b0b0
				MX6QDL_PAD_ENET_TXD1__ENET_TX_DATA1	0x1b0b0
				MX6QDL_PAD_GPIO_16__ENET_REF_CLK	0x1b0b0
                        >;
                };
		//Adicionando configuração de pinos de CAN1
                pinctrl_flexcan1: flexcan1grp{
                        fsl,pins = <
                                MX6QDL_PAD_GPIO_7__FLEXCAN1_TX      0x1b020
                                MX6QDL_PAD_GPIO_8__FLEXCAN1_RX      0x1b020
                        >;
                };
		//Adicionando configuração de pinos de CAN2
                pinctrl_flexcan2: flexcan2grp{
                        fsl,pins = <
                                MX6QDL_PAD_KEY_COL4__FLEXCAN2_TX      0x1b020
                                MX6QDL_PAD_KEY_ROW4__FLEXCAN2_RX      0x1b020
                        >;
                };
	};
	//Adicionando interface EIM (External Interface Module) (não usada, mas definida)
        weim {
		pinctrl_weim: weimgrp {
                        fsl,pins = <
                                MX6QDL_PAD_EIM_OE__EIM_OE_B             0xb0b1
                                MX6QDL_PAD_EIM_RW__EIM_RW               0xb0b1
                                MX6QDL_PAD_EIM_WAIT__EIM_WAIT_B         0xb060
                                MX6QDL_PAD_EIM_D16__EIM_DATA16          0x1b0b0
                                MX6QDL_PAD_EIM_D17__EIM_DATA17          0x1b0b0
                                MX6QDL_PAD_EIM_D18__EIM_DATA18          0x1b0b0
                                MX6QDL_PAD_EIM_D28__EIM_DATA28          0x1b0b0
                                MX6QDL_PAD_EIM_D30__EIM_DATA30          0x1b0b0
                                MX6QDL_PAD_EIM_D31__EIM_DATA31          0x1b0b0
                                MX6QDL_PAD_EIM_A25__EIM_ADDR25          0xb0b1
                                MX6QDL_PAD_EIM_A24__EIM_ADDR24          0xb0b1
                                MX6QDL_PAD_EIM_A23__EIM_ADDR23          0xb0b1
                                MX6QDL_PAD_EIM_A22__EIM_ADDR22          0xb0b1
                                MX6QDL_PAD_EIM_A21__EIM_ADDR21          0xb0b1
                                MX6QDL_PAD_EIM_A20__EIM_ADDR20          0xb0b1
                                MX6QDL_PAD_EIM_A19__EIM_ADDR19          0xb0b1
                                MX6QDL_PAD_EIM_A18__EIM_ADDR18          0xb0b1
                                MX6QDL_PAD_EIM_A17__EIM_ADDR17          0xb0b1
                                MX6QDL_PAD_EIM_A16__EIM_ADDR16          0xb0b1
                                MX6QDL_PAD_EIM_DA15__EIM_AD15           0xb0b1
                                MX6QDL_PAD_EIM_DA14__EIM_AD14           0xb0b1
                                MX6QDL_PAD_EIM_DA13__EIM_AD13           0xb0b1
                                MX6QDL_PAD_EIM_DA12__EIM_AD12           0xb0b1
                                MX6QDL_PAD_EIM_DA11__EIM_AD11           0xb0b1
                                MX6QDL_PAD_EIM_DA10__EIM_AD10           0xb0b1
                                MX6QDL_PAD_EIM_DA9__EIM_AD09            0xb0b1
                                MX6QDL_PAD_EIM_DA8__EIM_AD08            0xb0b1
                                MX6QDL_PAD_EIM_DA7__EIM_AD07            0xb0b1
                                MX6QDL_PAD_EIM_DA6__EIM_AD06            0xb0b1
                                MX6QDL_PAD_EIM_DA5__EIM_AD05            0xb0b1
                                MX6QDL_PAD_EIM_DA4__EIM_AD04            0xb0b1
                                MX6QDL_PAD_EIM_DA3__EIM_AD03            0xb0b1
                                MX6QDL_PAD_EIM_DA2__EIM_AD02            0xb0b1
                                MX6QDL_PAD_EIM_DA1__EIM_AD01            0xb0b1
                                MX6QDL_PAD_EIM_DA0__EIM_AD00            0xb0b1
				MX6QDL_PAD_EIM_EB0__EIM_EB0_B		0xb0b1
				MX6QDL_PAD_EIM_EB1__EIM_EB1_B		0xb0b1
				MX6QDL_PAD_EIM_EB2__EIM_EB2_B		0xb0b1
				MX6QDL_PAD_EIM_CS0__EIM_CS0_B		0xb0b1
				MX6QDL_PAD_EIM_CS1__EIM_CS1_B		0xb0b1
				MX6QDL_PAD_EIM_LBA__EIM_LBA_B		0xb0b1
                        >;
                };
        };
};

//Adicionando i2c1
&i2c1 {
        clock-frequency = <100000>;
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_i2c1>;
        status = "okay";
};
//Adicionando i2c2
&i2c2 {
        clock-frequency = <100000>;
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_i2c2>;
        status = "okay";

	rtc: pcf8506323@51 {
                compatible = "nxp,pcf85063";
                reg = <0x51>;
        };
};

//Adicionando i2c3
&i2c3 {
	clock-frequency = <100000>;
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_i2c3>;
        status = "okay";
};

//LVDS (ldb) habilitado
&mxcfb1 {
	status = "okay";
};

&ldb {
	lvds-channel@0 {
	        crtc = "ipu1-di0";
	};

	lvds-channel@1 {
	        crtc = "ipu1-di1";
	};
};

//Habilita HDMI
&mxcfb2 {
	status = "okay";
};

&pxp {
	status = "okay";
};

//Adicionando CAN1
&can1 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_flexcan1>;
        status = "okay";
};
//Adicionando node CAN2
&can2 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_flexcan2>;
        status = "okay";
};

//Adicionando uart1
&uart1 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_uart1_cts>;
	fsl,uart-has-rtscts;
        status = "okay";
};

//Adicionando uart3
&uart3 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_uart3>;
	fsl,uart-has-rtscts;
        status = "okay";
};

//Configurando Fast Ethernet Controller
&fec {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_pad_enet>;
        phy-mode = "rmii";
        phy-reset-gpios = <&gpio4 19 0>;
        fsl,magic-packet;
        status = "okay";
};

//USDHC2 e USDHC4 já estão habilitados no dtsi
//Interface de câmera já definida no dtsi 
//Configuração de pinos I2C1, I2C2 e I2C3 estão no dtsi
